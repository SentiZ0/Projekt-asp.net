@page
@model ApproveResponsibilityModel
@{
    ViewData["Title"] = "Chętni do obowiązków";
}

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet">

<style>
    .napis {
        margin: 10px 0px;
        font-family: 'Space Mono', monospace;
    }

    h3 {
        font-size: 30px;
    }

    h3 {
        font-size: 15px;
    }

    table, th, td {
        border: 1px solid black;
        width: 10px;
    }

</style>
<table class="table">
    <thead>
        <tr>
            <th>
                Start
            </th>
            <th>
                Koniec
            </th>
            <th>
                Obowiązek
            </th>
            <th>
                Mail Pracowika
            </th>
            <th>
                Status
            </th>
        </tr>
    </thead>

    <tbody>
        @foreach (var item in Model.Jobs)
        {
            @if (@item.WorkerMail != null)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.JobStartDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.JobEndDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Responsibility)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.WorkerMail)
                    </td>
                    <td>
                        @if(@item.JobAccepted==null)
                        {
                        <button type="button" class="btn btn-secondary" style="pointer-events: none;">Oczekuje</button>
                        }
                        else
                        {
                        <button type="button" class="btn btn-success" style="pointer-events: none;">Zaakceptowano</button>
                        }
                    </td>
                    <td>
                        <a asp-page="./AcceptApplication" asp-route-id="@item.Id"><input type="submit" value="Zatwierdź" class="btn btn-primary" /></a>
                    </td>
                    <td>
                        <a asp-page="./DeleteApplication" asp-route-id="@item.Id"><input type="submit" value="Odrzuć" class="btn btn-danger" /></a>
                    </td>
                </tr>
            }
        }
    </tbody>
</table>